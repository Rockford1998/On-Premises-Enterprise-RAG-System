// improve the code by adding error handling and comments 17-06-2025
// make chat ability more robust